{"version":3,"sources":["src/helpers.js"],"names":["require","omit","id","x","render","value","jsType","createElement","Array","isArray","type","toArray","input","flatRender","toChildrenArray","parsed","flatMap","filter","length","undefined","toClassNameArray","split","_","object","JSON","parse","stringify","props","args","children","data","hName","tagName","hProperties","className","replace","source","with","target","property","hasOwnProperty","Object","assign","module","exports"],"mappings":"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","sourcesContent":["require('array.prototype.flatmap/auto')\nconst omit = require('@babel/runtime/helpers/objectWithoutPropertiesLoose')\nconst id = x => x\nconst render = value => {\n\tif(value === null) return null\n\n\tconst jsType = typeof value\n\tif(jsType === 'undefined') return null\n\tif(jsType === 'boolean') return null\n\tif(jsType === 'string') return createElement('text', {value})\n\tif(Array.isArray(value)) return value\n\tif(typeof value.type === 'function'){\n\t\treturn render(value.type({...value, type: null}))\n\t}\n\tif(typeof value.type === 'string') return value\n\treturn null\n}\n\nconst toArray = input => Array.isArray(input) ? input : [input]\nconst flatRender = value => toArray(render(value))\nconst toChildrenArray = input => {\n\tconst parsed = toArray(input).flatMap(flatRender).filter(id)\n\treturn parsed.length ? parsed : undefined\n}\n\nconst toClassNameArray = input => {\n\tif(Array.isArray(input)){\n\t\tconst parsed = input.filter(x => x && typeof x === 'string')\n\t\treturn parsed.length ? parsed : undefined\n\t}\n\tif(typeof input === 'string') return toClassNameArray(input.split(/\\s+/))\n\treturn undefined\n}\n\nconst _ = object => JSON.parse(JSON.stringify(render(object)))\n\nconst createElement = (type, props, ...args) => _({\n\t...omit(props, ['className', 'tagName']), type,\n\tchildren: toChildrenArray(args),\n\tdata: {\n\t\thName: props?.tagName,\n\t\thProperties: toClassNameArray(props?.className) && {\n\t\t\tclassName: toClassNameArray(props?.className),\n\t}},\n})\n\nconst replace = source => ({with: target => {\n\tfor(let property in source){\n\t\tif(!target.hasOwnProperty(property)) delete source[property]\n\t}\n\tObject.assign(source, target)\n}})\n\nmodule.exports = {createElement, replace}\n"],"file":"helpers.js"}